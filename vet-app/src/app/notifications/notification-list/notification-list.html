<div class="notifications-container">
  <div class="container">
    <div class="page-header">
      <h1>Notifications</h1>
      <p>Your recent alerts and messages</p>
    </div>

    <mat-card>
      <mat-card-header>
        <mat-card-title>All Notifications</mat-card-title>
        <button mat-button (click)="markAllAsRead()" [disabled]="notifications.length === 0">
          <mat-icon>done_all</mat-icon>
          Mark All as Read
        </button>
      </mat-card-header>

      <mat-card-content>
        <div *ngIf="loading" class="loading-spinner">
          <mat-spinner diameter="40"></mat-spinner>
          <p>Loading notifications...</p>
        </div>

        <div *ngIf="!loading && notifications.length === 0" class="no-notifications">
          <mat-icon>notifications_off</mat-icon>
          <h3>No notifications</h3>
          <p>You're all caught up!</p>
        </div>

        <mat-list *ngIf="!loading && notifications.length > 0">
          <mat-list-item 
            *ngFor="let notification of notifications" 
            [class.unread]="!notification.read"
            class="notification-item"
          >
            <mat-icon 
              matListItemIcon 
              [class]="getNotificationIcon(notification.type)"
            >
              {{ getNotificationIcon(notification.type) }}
            </mat-icon>
            
            <div matListItemTitle [class.unread]="!notification.read">
              {{ notification.title }}
            </div>
            
            <div matListItemLine>{{ notification.message }}</div>
            
            <div matListItemMeta>
              <span class="notification-time">{{ notification.createdAt | timeago }}</span>
              <button 
                mat-icon-button 
                (click)="markAsRead(notification.id)"
                *ngIf="!notification.read"
              >
                <mat-icon>check_circle</mat-icon>
              </button>
            </div>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>
</div>