<div class="vet-list-container">
  <div class="container">
    <div class="page-header">
      <h1>Find the Perfect Veterinarian</h1>
      <p>Browse our network of experienced and caring veterinary professionals</p>
    </div>
    
    <mat-card class="filters-card">
      <form [formGroup]="searchForm">
        <div class="filters-grid">
          <mat-form-field appearance="outline">
            <mat-label>Specialty</mat-label>
            <mat-select formControlName="specialty">
              <mat-option value="">All Specialties</mat-option>
              <mat-option *ngFor="let specialty of specialties" [value]="specialty">
                {{ specialty }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          
          <mat-form-field appearance="outline">
            <mat-label>Minimum Rating</mat-label>
            <mat-select formControlName="rating">
              <mat-option value="">Any Rating</mat-option>
              <mat-option *ngFor="let rating of [4, 4.5, 5]" [value]="rating">
                {{ rating }}+ Stars
              </mat-option>
            </mat-select>
          </mat-form-field>
          
          <mat-form-field appearance="outline">
            <mat-label>Search by Name</mat-label>
            <input matInput formControlName="name" placeholder="Enter vet name">
            <mat-icon matSuffix>search</mat-icon>
          </mat-form-field>
          
          <button mat-button (click)="clearFilters()" class="clear-filters-btn">
            <mat-icon>clear</mat-icon>
            Clear Filters
          </button>
        </div>
      </form>
    </mat-card>
    
    <div class="results-section">
      <div *ngIf="loading" class="loading-spinner">
        <mat-spinner diameter="50"></mat-spinner>
        <p>Loading veterinarians...</p>
      </div>
      
      <div *ngIf="!loading && vets.length === 0" class="no-results">
        <mat-icon>search_off</mat-icon>
        <h3>No veterinarians found</h3>
        <p>Try adjusting your search criteria</p>
      </div>
      
      <div *ngIf="!loading && vets.length > 0" class="results-grid">
        <div class="results-count">
          <p>Showing {{ vets.length }} of {{ totalVets }} veterinarians</p>
        </div>
        
        <div class="vets-grid">
          <mat-card *ngFor="let vet of vets" class="vet-card">
            <img mat-card-image [src]="vet.imageUrl || 'assets/default-vet.jpg'" [alt]="vet.name">
            <mat-card-content>
              <div class="vet-header">
                <h3>{{ vet.name }}</h3>
                <div class="rating">
                  <span class="rating-stars">
                    <mat-icon *ngFor="let star of getStars(vet.rating)">star</mat-icon>
                    <mat-icon *ngFor="let star of getEmptyStars(vet.rating)">star_border</mat-icon>
                  </span>
                  <span class="rating-text">({{ vet.reviewCount }} reviews)</span>
                </div>
              </div>
              
              <p class="specialty">{{ vet.specialty }}</p>
              
              <div class="vet-details">
                <p><mat-icon>work</mat-icon> {{ vet.experience }}+ years experience</p>
                <p><mat-icon>location_on</mat-icon> {{ vet.address }}</p>
              </div>
            </mat-card-content>
            
            <mat-card-actions>
              <button mat-button color="primary" [routerLink]="['/vets', vet.id]">
                View Profile
              </button>
              <button mat-raised-button color="accent" [routerLink]="['/vets', vet.id]">
                Book Appointment
              </button>
            </mat-card-actions>
          </mat-card>
        </div>
        
        <mat-paginator 
          [length]="totalVets"
          [pageSize]="pageSize"
          [pageIndex]="pageIndex"
          [pageSizeOptions]="[9, 18, 27]"
          (page)="onPageChange($event)"
          aria-label="Select page">
        </mat-paginator>
      </div>
    </div>
  </div>
</div>